import{d as w,o as E,a as f,c as m,b as g,u as F,e as L,f as x,r as S,g as O,h as $,i as A,j as C}from"./vendor.751b09b2.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}};P();const B="modulepreload",b={},N="/snakeGame/",D=function(e,s){return!s||s.length===0?e():Promise.all(s.map(o=>{if(o=`${N}${o}`,o in b)return;b[o]=!0;const n=o.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const a=document.createElement("link");if(a.rel=n?"stylesheet":B,n||(a.as="script",a.crossOrigin=""),a.href=o,document.head.appendChild(a),n)return new Promise((v,u)=>{a.addEventListener("load",v),a.addEventListener("error",u)})})).then(()=>e())},X=g("canvas",{"ma-auto":"",id:"canvas"},null,-1),Y=[X],G=w({setup(l){const e={cvs:null,ctx:null,ave:0,foodX:0,foodY:0,snake:[],score:0,gameOver:!1,timerLeft:null,timerRight:null,timerTop:null,timerDown:null,oldDirection:null};function s(){e.cvs=document.getElementById("canvas"),e.ctx=e.cvs.getContext("2d"),e.cvs.width=800,e.cvs.height=800,e.ave=(e.cvs.width-300)/30|0,o(),n(),i(),v()}function o(){for(var t=0;t<30;t++)for(var r=0;r<30;r++)e.ctx.strokeStyle="#666",e.ctx.strokeRect(e.ave*t,e.ave*r,e.ave,e.ave)}function n(){e.foodX=Math.random()*60%30|0,e.foodY=Math.random()*60%30|0,e.ctx.save(),e.ctx.fillStyle="red",e.ctx.fillRect(e.foodX*e.ave+1,e.foodY*e.ave+1,e.ave-2,e.ave-2);for(var t=e.snake.length,r=0;r<t;r++)if(e.snake[r].x==e.foodX&&e.snake[r].y==e.foodY){n();break}}function i(){e.ctx.restore(),e.ctx.save(),e.ctx.fillStyle="#555";for(var t=0;t<4;t++){e.ctx.fillRect(1*e.ave+1,t*e.ave+1,e.ave-2,e.ave-2);var r={x:1,y:t};e.snake.push(r)}}function a(){var t=e.snake.length-1;return e.snake[t].x==e.foodX&&e.snake[t].y==e.foodY?(e.score+=10,n(),!0):!1}function v(){e.ctx.font="Bold 20px Arial",e.ctx.fillStyle="#fff",e.ctx.clearRect(500,50,200,100),e.ctx.strokeText("\u5F97\u5206\uFF1A"+e.score,200,600)}function u(){for(var t=e.snake.length-1,r=0;r<t;r++)if(e.snake[r].x==e.snake[t].x&&e.snake[r].y==e.snake[t].y){e.gameOver=!0,c(),alert("\u54AC\u5230\u81EA\u5DF1\u5566\uFF0C\u6E38\u620F\u7ED3\u675F\uFF01");break}v()}function d(t){e.ctx.restore(),e.ctx.save(),e.ctx.fillStyle="#555",e.ctx.fillRect(t.x*e.ave+1,t.y*e.ave+1,e.ave-2,e.ave-2),e.snake.push(t)}function k(t){e.ctx.clearRect(t.x*e.ave+1,t.y*e.ave+1,e.ave-2,e.ave-2),e.snake.shift()}function p(){if(e.gameOver==!1){var t=e.snake.length-1;e.snake[t].x-1>=0?(d({x:e.snake[t].x-1,y:e.snake[t].y}),u(),a()||k(e.snake[0])):(c(),e.gameOver=!0,alert("gameOver!")),e.timerLeft=setTimeout(function(){p()},1e3)}}function _(){if(e.gameOver==!1){var t=e.snake.length-1;e.snake[t].y-1>=0?(d({x:e.snake[t].x,y:e.snake[t].y-1}),u(),a()||k(e.snake[0])):(c(),e.gameOver=!0,alert("gameOver!")),e.timerTop=setTimeout(function(){_()},1e3)}}function h(){if(e.gameOver==!1){var t=e.snake.length-1;e.snake[t].x+1<30?(d({x:e.snake[t].x+1,y:e.snake[t].y}),u(),a()||k(e.snake[0])):(c(),e.gameOver=!0,alert("gameOver!")),e.timerRight=setTimeout(function(){h()},1e3)}}function y(){if(e.gameOver==!1){var t=e.snake.length-1;e.snake[t].y+1<30?(d({x:e.snake[t].x,y:e.snake[t].y+1}),u(),a()||k(e.snake[0])):(c(),e.gameOver=!0,alert("gameOver!")),e.timerDown=setTimeout(function(){y()},1e3)}}function c(){clearTimeout(e.timerLeft),clearTimeout(e.timerTop),clearTimeout(e.timerRight),clearTimeout(e.timerDown)}return E(()=>{s(),document.onkeydown=function(t){var r=t||window.event;switch(r.keyCode){case 37:{if(c(),e.oldDirection=="right"||e.gameOver==!0)return;p(),e.oldDirection="left"}break;case 38:{if(c(),e.oldDirection=="down"||e.gameOver==!0)return;_(),e.oldDirection="top"}break;case 39:{if(c(),e.oldDirection=="left"||e.gameOver==!0)return;h(),e.oldDirection="right"}break;case 40:{if(c(),e.oldDirection=="top"||e.gameOver==!0)return;y(),e.oldDirection="down"}break}}}),(t,r)=>(f(),m("div",null,Y))}}),V=[{name:"all",path:"/:all(.*)*",component:()=>D(()=>import("./_...all_.9c6171d4.js"),["assets/_...all_.9c6171d4.js","assets/vendor.751b09b2.js"]),props:!0},{name:"index",path:"/",component:G,props:!0},{name:"hi-name",path:"/hi/:name",component:()=>D(()=>import("./_name_.a731fe36.js"),["assets/_name_.a731fe36.js","assets/_name_.bb155677.css","assets/vendor.751b09b2.js"]),props:!0}],T=F(),H=L(T),M={"text-xl":"","mt-6":"","inline-flex":"","gap-2":""},q={key:0,"i-carbon-moon":""},W={key:1,"i-carbon-sun":""},K=g("a",{class:"icon-btn","i-carbon-logo-github":"",rel:"noreferrer",href:"https://github.com/songdaochuanshu/snakeGame",target:"_blank",title:"GitHub"},null,-1),z=w({setup(l){return(e,s)=>(f(),m("nav",M,[g("button",{class:"icon-btn !outline-none",onClick:s[0]||(s[0]=o=>x(H)())},[x(T)?(f(),m("div",q)):(f(),m("div",W))]),K]))}});var J=(l,e)=>{const s=l.__vccOpts||l;for(const[o,n]of e)s[o]=n;return s};const Q={},U={"font-sans":"",p:"x-4 y-10",text:"center gray-700 dark:gray-200"};function Z(l,e){const s=S("router-view"),o=z;return f(),m("main",U,[O(s),O(o)])}var j=J(Q,[["render",Z]]);const R=$(j),I=A({history:C("/snakeGame/"),routes:V});R.use(I);R.mount("#app");export{J as _};
